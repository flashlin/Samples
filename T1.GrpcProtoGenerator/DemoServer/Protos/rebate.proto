syntax = "proto3";
import "google/api/annotations.proto";
import "Protos/Messages/requests.proto";
import "Protos/Messages/responses.proto";
import "Protos/Models/Period.proto";

option csharp_namespace = "DemoServer.Services";

service Rebate {
  rpc GetSettledBet(GetCustomersWithSettledBetRequest) returns (GetCustomersWithSettledBetResponse);
  rpc CreateBatch(Null) returns (Void);
  rpc Approve(IntRequest) returns (Void);
  rpc IsEligible(RebateEligibilityRequest) returns (RebateEligibilityResponse);
  rpc GetStatus(RebateStatusRequest) returns (RebateStatusResponse);
  rpc GetRebateDetails(RebateDetailsRequest) returns (RebateDetailsResponse);
  rpc GetBatchList(Null) returns (RebateBatchListResponse);
  rpc ExcludeByUsernames(ExcludeByUsernamesRequest) returns (ExcludeByUsernamesResponse);
  rpc Audit(BatchId) returns (AuditAndGenerateRebateReportResponse);
  rpc GetReport(Period) returns (CasinoRebateReportResponse);
  rpc SendSummaryEmail(Period) returns (Void);
  rpc GetTurnover(GetRebatableTurnoverRequest) returns (stream GetRebatableTurnoverResponse);
  rpc UpdateProgress(UpdateSettlementProgressRequest) returns(Void);
  rpc GetConfig(Null) returns (CurrentGamesRebateConfigResponse){
    option(google.api.http) = {
      post: "/api/rebate/GetCurrentGamesRebateConfig",
      body: "*"
    };
  };
}
